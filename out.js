var f=1/3,i=-1/6,r=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1]],s=[],t=c.width=window.innerWidth-20,u=c.height=window.innerHeight-20,y=a.createImageData(t,u),z=y.data,A,B=0,D;a.font="400px A";a.fillText("\u2665",t/2-150,u/2+150);A=a.getImageData(0,0,t,u);
setInterval(function(){for(var n=0;n<t*u;n++){s[n%96]=s[n%96]||~~(48*Math.random());var w=4*n,C;if(C=A.data[w+3]){var d=0.01*(n%t),e=0.01*~~(n/t),b=(d+e+B)*f,g=~~(d+b),h=~~(e+b),j=~~(B+b),b=(g+h+j)*i,d=d-g-b,e=e-h-b,b=B-j-b,k,l,m,o,p,q;d>=e?e>=b?(k=1,m=l=0,p=o=1,q=0):(d>=b?(k=1,m=l=0):(l=k=0,m=1),o=1,p=0,q=1):e<b?(l=k=0,m=1,o=0,q=p=1):d<b?(k=0,l=1,o=m=0,q=p=1):(k=0,l=1,m=0,p=o=1,q=0);var g=g%48,h=h%48,j=j%48,x=0,v=function(b,d,e,g){var h=0.6-b*b-d*d-e*e;x+=0>h?0:Math.pow(h,4)*(b*g[0]+d*g[1]+e*g[2])};
v(d,e,b,r[s[g+s[h+s[j]]]%6]);v(d-k-i,e-l-i,b-m-i,r[s[g+k+s[h+l+s[j+m]]]%6]);v(d-o-2*i,e-p-2*i,b-q-2*i,r[s[g+o+s[h+p+s[j+q]]]%6]);v(d-1-3*i,e-1-3*i,b-1-3*i,r[s[g+1+s[h+1+s[j+1]]]%6]);D=0.7*C*(32*x+1)}z[w]=D;z[w+3]=255}a.putImageData(y,0,0);B+=0.02},0);
