for(var e=1/3,j=-1/6,q=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],r=[],s=0;512>s;s++)r[s]=~~(256*Math.random());function t(d,l){var m=0.6-d[0]*d[0]-d[1]*d[1]-d[2]*d[2];return 0>m?0:Math.pow(m,4)*(d[0]*l[0]+d[1]*l[1]+d[2]*l[2])}c.style.cssText="position: absolute; left: 0; top: 0";var u=c.width=window.innerWidth,v=c.height=window.innerHeight,w=a.createImageData(u,v),x,y=0;a.font="400px Arial";a.fillText("\u2665",u/2-150,v/2+150);
x=a.getImageData(0,0,u,v);
function A(){for(var d=0;d<u;d++)for(var l=0;l<v;l++){var m=4*(d+l*u),z=x.data[m+3];if(z){var f=0.01*d,h=0.01*l,g=0.02*y,b=(f+h+g)*e,n=~~(f+b),o=~~(h+b),p=~~(g+b),b=(n+o+p)*j,f=f-(n+b),h=h-(o+b),g=g-(p+b),i;f>=h?h>=g?(b=[1,0,0],i=[1,1,0]):(b=f>=g?[1,0,0]:[0,0,1],i=[1,0,1]):h<g?(b=[0,0,1],i=[0,1,1]):f<g?(b=[0,1,0],i=[0,1,1]):(b=[0,1,0],i=[1,1,0]);var n=n%255,o=o%255,p=p%255,k=0,k=k+t([f,h,g],q[r[n+r[o+r[p]]]%12]),k=k+t([f-b[0]-j,h-b[1]-j,g-b[2]-j],q[r[n+b[0]+r[o+b[1]+r[p+b[2]]]]%12]),k=k+t([f-i[0]-
2*j,h-i[1]-2*j,g-i[2]-2*j],q[r[n+i[0]+r[o+i[1]+r[p+i[2]]]]%12]),k=k+t([f-1-3*j,h-1-3*j,g-1-3*j],q[r[n+1+r[o+1+r[p+1]]]%12]),f=0.7*z*(32*k+1)}w.data[m]=f;w.data[m+1]=w.data[m+2]=0;w.data[m+3]=255}a.putImageData(w,0,0);y++;setTimeout(A,0)}A();
