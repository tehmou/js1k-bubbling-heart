for(var h=1/3,i=-1/6,n=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],o=[],q=0;512>q;q++)o[q]=~~(256*Math.random());c.style.cssText="position: absolute; left: 0; top: 0";var r=c.width=window.innerWidth,v=c.height=window.innerHeight,w=a.createImageData(r,v),x,y=0;a.font="400px Arial";a.fillText("\u2665",r/2-150,v/2+150);x=a.getImageData(0,0,r,v);
function A(){for(var s=0;s<r;s++)for(var t=0;t<v;t++){var p=4*(s+t*r),z=x.data[p+3];if(z){var d=0.01*s,f=0.01*t,e=0.02*y,b=(d+f+e)*h,k=~~(d+b),l=~~(f+b),m=~~(e+b),b=(k+l+m)*i,d=d-(k+b),f=f-(l+b),e=e-(m+b),g;d>=f?f>=e?(b=[1,0,0],g=[1,1,0]):(b=d>=e?[1,0,0]:[0,0,1],g=[1,0,1]):f<e?(b=[0,0,1],g=[0,1,1]):d<e?(b=[0,1,0],g=[0,1,1]):(b=[0,1,0],g=[1,1,0]);var k=k%255,l=l%255,m=m%255,u=function(b,d,e,f){var g=0.6-b*b-d*d-e*e;return 0>g?0:Math.pow(g,4)*(b*f[0]+d*f[1]+e*f[2])},j=0,j=j+u(d,f,e,n[o[k+o[l+o[m]]]%
12]),j=j+u(d-b[0]-i,f-b[1]-i,e-b[2]-i,n[o[k+b[0]+o[l+b[1]+o[m+b[2]]]]%12]),j=j+u(d-g[0]-2*i,f-g[1]-2*i,e-g[2]-2*i,n[o[k+g[0]+o[l+g[1]+o[m+g[2]]]]%12]),j=j+u(d-1-3*i,f-1-3*i,e-1-3*i,n[o[k+1+o[l+1+o[m+1]]]%12]),d=0.7*z*(32*j+1)}w.data[p]=d;w.data[p+1]=w.data[p+2]=0;w.data[p+3]=255}a.putImageData(w,0,0);y++;setTimeout(A,0)}A();
